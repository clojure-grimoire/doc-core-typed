{:type :fn, :src "(deftest assoc-test\n  (is-tc-e (assoc {:a 1} :b 2)\n           '{:a Number :b Number})\n\n  (is-tc-err (let [a 1]\n               (assoc a :b 2)))\n  (is-tc-err\n    (do (t/ann-record FooRec [a :- t/Num\n                              b :- t/Symbol])\n        (defrecord FooRec [a b])\n        (assoc (->FooRec 1 'a) :a 'b)))\n\n  (is-tc-e\n    (do (t/ann-record FooRec [a :- t/Num\n                              b :- t/Symbol])\n        (defrecord FooRec [a b])\n        (assoc (->FooRec 1 'a) :a 4)))\n\n  ;intersections\n  (is-tc-e (t/fn [m :- (t/I (t/HMap :mandatory {:foo Num})\n                            (t/HMap :mandatory {:bar Num}))]\n             :- '{:foo Num, :bar Num, :baz Num}\n             (assoc m :baz 2))))", :ns "clojure.core.typed.test.assoc", :name "assoc-test", :file "clojure/core/typed/test/assoc.clj", :column 1, :line 8, :test #<assoc$fn__7733 clojure.core.typed.test.assoc$fn__7733@ed02d3b>}